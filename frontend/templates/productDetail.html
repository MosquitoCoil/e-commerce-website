{% extends "base.html" %} {% block title %}{{ product.name }} | MyShop{%
endblock %} {% block content %}
<div class="container py-5">
  <div class="row">
    <!-- Product Image -->
    <div class="col-md-6">
      <img
        src="{{ url_for('static', filename='uploads/' ~ product.image) }}"
        alt="{{ product.name }}"
        class="img-fluid rounded shadow-sm"
      />
    </div>

    <!-- Product Info -->
    <div class="col-md-6">
      <h2>{{ product.name }}</h2>
      <p>{{ product.description }}</p>
      <p><strong>₱{{ product.price }}</strong></p>

      <form
        method="POST"
        action="{{ url_for('addToCart.addToCart', product_id=product.id) }}"
      >
        <label for="size">Select Size:</label>
        <div class="mb-3">
          {% for v in variants %} <input type="radio" class="btn-check"
          name="size" id="size-{{ v.size }}" value="{{ v.size }}" {% if v.stock
          == 0 %}disabled{% endif %}>
          <label class="btn btn-outline-dark m-1" for="size-{{ v.size }}">
            {{ v.size }} {% if v.stock == 0 %}(Out of Stock){% endif %}
          </label>
          {% endfor %}
        </div>

        <!-- Add to Cart -->
        <button type="submit" class="btn btn-dark btn-lg">
          <i class="bi bi-cart-plus"></i> Add to Cart
        </button>
      </form>

      <!-- Back to Shop -->
      <div class="mt-3">
        <a href="{{ url_for('home.home') }}" class="btn btn-outline-secondary">
          ← Back to Shop
        </a>
      </div>
    </div>
  </div>
  <hr class="my-5" />
  <h4>Related Products</h4>
  <div class="row g-3">
    {% for related in related_products %}
    <div class="col-md-3">
      <a
        href="{{ url_for('home.productDetail', product_id=related.id) }}"
        class="text-decoration-none text-dark"
      >
        <div class="card h-100 border-0 shadow-sm">
          <img
            src="{{ url_for('static', filename='uploads/' ~ related.image) }}"
            class="card-img-top"
            style="height: 200px; object-fit: cover"
          />
          <div class="card-body text-center">
            <h6 class="fw-semibold">{{ related.name }}</h6>
            <p class="fw-bold text-danger">
              ₱{{ "%.2f"|format(related.price) }}
            </p>
          </div>
        </div>
      </a>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}
